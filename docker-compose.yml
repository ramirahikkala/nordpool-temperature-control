services:
  temperature-controller:
    build: .
    container_name: ha-temperature-controller
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - TZ=Europe/Helsinki
    # Run every 15 minutes
    command: >
      sh -c "
        while true; do
          echo \"[$$(date)] Running temperature control...\"
          uv run main.py
          echo \"[$$(date)] Sleeping for 15 minutes...\"
          sleep 900
        done
      "
